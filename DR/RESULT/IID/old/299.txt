base_model = tf.keras.applications.xception.Xception(include_top=False, weights='imagenet',input_shape=(img_SIZE,img_SIZE,3))
for layer in base_model.layers[:25]:
    layer.trainable = False
for layer in base_model.layers[25:]:
    layer.trainable = True
inputs = tf.keras.layers.Input(shape=(img_SIZE,img_SIZE,3))
h1 = base_model(inputs)
h2 = tf.keras.layers.GlobalAveragePooling2D()(h1)
# h2 = tf.keras.layers.Dropout(0.5)(h2)
h4 = tf.keras.layers.Dense(256, activation='relu')(h2)  #try tanh/relu
predictions = tf.keras.layers.Dense(1, activation='sigmoid')(h4)
model = tf.keras.models.Model(inputs=inputs, outputs=predictions)
# opt = tf.keras.optimizers.Adam(learning_rate=0.001, decay=1e-6)
model.compile(optimizer='adam', 
                  loss='binary_crossentropy',
                  metrics=['acc'])
Model: "model"
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
input_2 (InputLayer)         [(None, 299, 299, 3)]     0         
_________________________________________________________________
xception (Model)             (None, 10, 10, 2048)      20861480  
_________________________________________________________________
global_average_pooling2d (Gl (None, 2048)              0         
_________________________________________________________________
dense (Dense)                (None, 256)               524544    
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 257       
=================================================================
Total params: 21,386,281
Trainable params: 21,140,937
Non-trainable params: 245,344
_________________________________________________________________
Epoch 1/30
2020-05-15 01:28:34.595512: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2020-05-15 01:28:36.752390: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
100/100 [==============================] - 253s 3s/step - loss: 0.3771 - acc: 0.8284 - val_loss: 1.1336 - val_acc: 0.7968
Epoch 2/30
100/100 [==============================] - 234s 2s/step - loss: 0.3055 - acc: 0.8706 - val_loss: 0.4100 - val_acc: 0.8252
Epoch 3/30
100/100 [==============================] - 235s 2s/step - loss: 0.2780 - acc: 0.8803 - val_loss: 0.3548 - val_acc: 0.8488
Epoch 4/30
100/100 [==============================] - 234s 2s/step - loss: 0.2558 - acc: 0.8917 - val_loss: 0.4715 - val_acc: 0.8220
Epoch 5/30
100/100 [==============================] - 233s 2s/step - loss: 0.2480 - acc: 0.8945 - val_loss: 0.4148 - val_acc: 0.8136
Epoch 6/30
100/100 [==============================] - 234s 2s/step - loss: 0.2310 - acc: 0.9048 - val_loss: 0.3864 - val_acc: 0.8460
Epoch 7/30
100/100 [==============================] - 233s 2s/step - loss: 0.2249 - acc: 0.9077 - val_loss: 0.6460 - val_acc: 0.7068
Epoch 8/30
100/100 [==============================] - 233s 2s/step - loss: 0.2082 - acc: 0.9122 - val_loss: 1.2487 - val_acc: 0.7716
Epoch 9/30
100/100 [==============================] - 233s 2s/step - loss: 0.2082 - acc: 0.9150 - val_loss: 0.5116 - val_acc: 0.7960